# 让你的BDS服务器支持IPv6
> [!NOTE]
> 解决方案仅为本人初步探究，部分内容为实验结论，没有找到理论支持，如果有不足之处欢迎指正。

IPv6是什么，以及为什么要使用IPv6，想必能找到这里的服主们都明白。  
如果你的服务器没有IPv6，你可以看[开通IPv6](network/ipv6/start.md)。  
首先大多数时候网卡都会获取到三个IP，一个是用网卡MAC生成的IP，一个隐私保护IP，一个内网IP。内网IP是fe80开头。经过我在自己服务器上的测试，我这个服务器只有隐私保护IP能连接上bds。所以你们直接用网卡的IP连服务器是连不上的，这个不清楚为什么。  
这个IP地址会被显示在以下几个地方：
- 任务管理器性能选项卡网络一栏下方“IPv6地址”
- **控制面板\所有控制面板项\网络和共享中心**里面查看活动网络右边那一栏的连接里面蓝字的网络名点进去，点击详细信息，IPv6地址下面有一个租约过期时间，再下面的一个没有名字的项
- 在命令行中输入`ipconig`显示的第二个IPv6地址
- ipw.cn，testipv6.cn这种能反馈给你访问网站使用的地址的网站
各位在修复这个IPv6问题的时候，建议把`ipconfig`命令执行结果里面除了内网地址之外的地址都试一遍，因为我不能确定哪个地址是否可用是否和各类环境有关
> [你先用cmd执行一下ipconfig，里面除了那个fe80之外的IPv6地址都试一下](https://www.minebbs.com/threads/bds-ipv6.22314/post-143144)

有的ddns会默认把网卡的IP设置为域名解析的地址，比如ddns-go。ddns可以正常在网卡获取到全部两个IP，但是隐私保护IP跟网卡IP的顺序是可能发生变化的，你也不知道第几个IP一定是隐私保护IP，所以最好还是选择接口获取，如果担心第三方运营的接口会寄，就多找几个，或者自己搭（尽量在自己已经有稳定v6服务器的情况下再考虑这个），选的越多就越不容易出现IPv6联网一切正常但是因为接口寄了而没法更新解析的情况。  
bds的IPv6端口需要单独配置，配置项叫server-portv6，默认是19133，因为IPv4和IPv6是两个网络，端口不冲突，所以这个端口可以改成IPv4一样，比如IPv4是19132那IPv6也可以是19132。  
