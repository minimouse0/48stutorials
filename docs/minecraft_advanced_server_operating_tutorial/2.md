# 【我的世界进阶开服教程】2:为什么我的服务器没人?看了这篇教程,可算避免了在网络上走弯路
本系列文章目前在MineBBS、b站、知乎同时发表  
**如果你是连服务器都没成功开起来过的小白，那么我建议你到各大平台搜索“我的世界开服教程”，根据教程操作，直到你做到自己开设的服务器能够让你自己连接并在里面正常游戏  
注意：我的世界分Java版和基岩版，基岩版不能直接进入Java版服务器，Java版也不能直接进入基岩版服务器！首先确保你能完全分清Java版和基岩版，然后再学习开服。​**  
**我有的时候会忘更新我的文章，可以直接在文章下面评论催更，或者加我的群715732100联系我，或者和我一起讨论开服吧**  
**由于本文需要跨平台发表，因此格式化的内容较少，还请各位读者谅解！**  
上回说到服务器的硬件（计算资源），这次来讲网络  
之所以我把网络和硬件分开来讲，是因为网络这里的说道实在是太多了，完全可以跟硬件的内容并列  
## 广域网和局域网
在计算机发展初期，计算机学家们用电线把电脑连接在一起让他们互相传输数据，网络就出现了。这样连在一起的电脑变多，就出现了互联网。后来人们铺设电缆让这个互联网扩大范围，直至把全世界的电脑连接在一起，因特网(Internet)就出现了。  
因特网是个好东西，它模糊了人与人之间距离的概念，让人们相隔距离很远也可以互相联系。然而这样的因特网还有一个问题：因特网上的计算机太多，很不好管理。因此局域网就和因特网结合到了一起。把同一个地点的电脑连接在一起，就是一个局域网，然后再把这个局域网连接到因特网。在同一个局域网里的电脑可以互相信任，互相敞开心扉允许被对方搜索到。而他们可以对外一致提高警戒，防止被来自因特网上其他计算机攻击。这其中，广域网有一个别称叫公网，局域网有一个别称叫私网。  
## 网络五层模型、IP、TCP和UDP协议
你有没有想过，网线只能传输电信号，电脑是怎么用这一根根电线传输如此复杂的信息的？为了互相通信，计算机之间也有一种“语言”，这种语言就是协议。网线中传输的只有电流，如何通过电流表达信息呢？可以通过控制电流的状态来表达这些信息，如果用没有电流代表0，有电流代表1，并规定一个数字逢二进一，例如10表示2，11表示3，数字就表达出来了。网络设备中负责改变网线中有无状态工作的软硬件就工作在**物理层**。像你家里的网线，和入户的网线和光纤，都可以理解为工作在物理层。

在规定好信号通断为0和1后，计算机还需要规定如何用0和1传递复杂的数据。例如计算机需要通过网络发送5和8，那么它需要让网络设备在网线上发出“101”和“1000”两个信号，可以对方接收信号的时候，要怎么知道这是5和8？如果连在一起发送1011000，那么对方该如何分割这段信息就变得很棘手：到底是分成10，11，00，还是分成1011和000？既然不知道如何分割长度，那就不要决定长度了，所有的数字全都用同一个长度表示好了，至于更高位没有数字就用0表示。例如要发送5，那么就是000...0101。这样对方收到消息之后，就每隔多少位数字分割一下，再从里面提取数字就可以了。负责把各种数字转化成信号的网络设备和软件就工作在**链路层**。交换机和AP（路由器上发射wifi信号的模块）就工作在链路层，用来标识网卡身份的mac地址也工作在链路层。  

在规定好如何传递数字后，电脑还需要知道哪些数字组合在一起能够形成一段“话”，这样的一段“话”用来给对方传达一个完整的信息，例如当前的时间，向别人发送的消息，以及你在mc服务器里进行的挖方块，攻击生物等动作。这样的一段“话”就是数据包。此外电脑还需要把这些数据包打上标记，标记他们应该被发送给哪些电脑，不应该被发送给哪些电脑，应该通过什么样的方式发送给其他电脑。负责这些工作的网络设备和软件就工作在**网络层**。路由器、IP地址和ICMP协议（ping命令的原理）就工作在这一层。  

在规定好数据包应该长什么样了之后，还需要规定这些数据包应该怎么样进行传输，发送得错了或者丢了怎么办。计算机可以选择多次发送同一个数据包来保证数据包安全到达，也可以选择发完就不管了，你爱收不收反正我发给你了。负责控制这些发送数据包行为的软件工作在**传输层**，tcp和udp协议都工作在这一层。  

规定好发送数据包的行为后，还需要规定电脑上的软件应该如何处理这些数据包，这些数据包的格式是什么样的，如何排列。如果说链路层的那些0和1的长度是硬件之间的语言，那么这些数据包的格式就是软件之间的语言。这一层叫**应用层**，http、ftp、websocket、smb、我的世界服务器用的协议都工作在这一层。其中，http、ftp、websocket、smb、我的世界服务器java版基于TCP协议，我的世界基岩版服务器基于UDP协议。  
## 什么是服务端和客户端
电脑在互联网上通信的方式就像打电话一样，同样有一个打电话的人和一个接电话的人。在我们平时打电话的时候，接电话的人必须在线，也就是说有信号，或者插着电话线，打电话的人拨通电话后，接电话的人的铃声才会响起。如果打电话的时候对方没信号或者关机了，电话就根本拨不通，提示“您拨打的电话已关机”。在互联网上电脑和服务器通信也是一样，服务器上运行的服务端软件就是接电话的人，而你的电脑上的客户端，也就是游戏，就是打电话的人。
## IP地址、端口和套接字
为了让互联网上的每台电脑都有一个身份，IP协议规定要为每台电脑都分配一个地址，这个地址就是**IP地址**。之所以这种地址叫“IP”地址，是因为它是IP协议中的一个概念。当时你在云服务器上开服的时候，输入的那个用点连接的四个数字就是IP地址。就像去别人家串门需要知道他家的地址一样，在计算机上访问其他电脑需要知道它的IP地址。这样，电脑才能向正确的目标发送和接收数据包。用上文的例子理解，IP地址就是电话号，客户端需要知道IP地址这个“电话号”，然后才能向服务器“拨打电话”。

但是这带来了一个问题，在我们打电话时，是不可以同时给很多个人打电话的，我们的电话一旦拨通就无法同时启动别的通话，要想启动别的通话只能把当前的通话进入等待状态，然后再拨通其他电话；而如果其他人打电话进来，就会拨不通，提示“您拨打的电话正在通话中”，或者提示你稍等一会，如果提示你需要稍等了，那么对方的电话会提示你打了电话进来，并让他选择挂断你们其中一人的电话或者让你们其中一人的电话进入等待状态。这么“逆天”的设计是不能放到计算机上的，由于服务器要同时和其他很多个电脑进行通信，也就是说服务器这个“公共电话”上会同时有很多个人希望用这台电话，让这些人排队等待那简直是灾难性的。

因此计算机上出现了**端口**这一概念。它就像给同一部电话接上了很多条电话线，一条电话线就是一个端口。如果当前某条电话线占线了，那么他就可以从另一条电话线打进来到同一个电话，那么在已经有人使用电话的时候，后来的人就可以拿起其他的电话线打电话而互不干扰，这样就实现让同一台电话允许很多人同时打电话了。

在计算机上，一共有固定65536个端口，也就是65536条“电话线”（好多线啊，但是没关系，这些“电话线”都是虚拟的）。

“电话线”也需要编号，“电话线的编号”就是**端口号**，范围是0到65535。IP地址就是电话机，端口就是电话机上的一条电话线，那么IP地址和端口在一起就指定了特定电话上的一条特定的电话线。这样的一个组合就叫**套接字**。有了电话号（IP地址）和电话线编号（端口号），你就可以拨通对方的电话了。你拨打那个电话的那条电话线的行为就叫**访问**。  

在平时打电话的时候，对方接到你的电话时，也能看到你的电话号。对于你来说，给别人打电话的时候同样也需要分成很多个电话线，因为你需要用不同的电话线同时给不同的人打电话。这样一来，如果你要给别人打电话，那么你必须拥有一个有电话号的电话，并且使用那6万多条电话线中的一根给对方打电话过去。在网络上也是一样，当你的客户端访问服务端时，你也需要一个IP地址（电话号）和一个端口号（电话线编号），才能给对方打过去电话。  

让我们用带端口的java版服务器的连接地址再解释一下这个问题：假设有一个这样的连接地址：11.4.5.14:19810，在这个地址中，11.4.5.14就是一个IP地址，19810就是一个端口号，而整个这个连接地址就是一个套接字。  
## 服务器、服务端和服务
继续上文的例子，如果要打给**服务器**这个“公共电话”，“公共电话”的电话线另一头必须得有一个人接电话才行，这个接电话的人就是**服务端**，在计算机上通常是一个程序。如果没有这个接电话的人，你就拨不通这条电话线。为了让你打电话后对面接电话的人一定是那人，那人暂时地占领了这条电话线，拒绝其他人使用这条电话线，这个占领电话线的行为就叫**绑定**（绑定到端口或者说绑定到套接字）。这也是为什么你在服务器上有时操作失误会见到报错“每个套接字只允许使用一次”。此外你拨了电话，肯定是有事要找电话对面的那个人谈。你们所交谈的这个话题就是**服务**，从对方得知你们交谈的内容到他来到电话线另一端等待的过程就是**开启服务**。  

让我们再整理一下整件事的脉络：你找一个人（服务端）要和他谈一件事（服务），于是这人为了能接到你的电话，来到了电话线另一头（服务端启动），并暂时占有了这条电话线（绑定端口），此时他已经做好了接听你电话的所有准备（开启服务）。你（客户端）想给那人打电话时，首先用对方的电话号（IP地址）和电话线编号（端口号）组合成一段代码（套接字）输入到自己的电话里拨打出去（访问）。  

反过来再讲一遍：服务端启动（对方来到电话线另一头），绑定端口（占有电话线），然后开启了服务（开始等你打来电话跟他讨论某事）。客户端使用由IP地址和端口组成的套接字访问服务器上的服务。（用电话号和电话线编号拨打电话和对方交流一件事）  
## IPv4的枯竭和IPv6推广的层层阻力
什么是IPv4和IPv6？在上文的网络五层模型中，我们知道IP是一种协议，而且在IP地址的讲解中，我们知道IP地址是IP协议中的一个概念。协议是可以分为版本的，而IP协议也一样。网际协议版本4，也就是IP协议的第四个版本，就是传说中的IPv4。同理，IPv6就是IP协议的第六版。

IPv4规定IP地址使用四个255以内的数字组成，用小数点分开，也就有了现在最常见的IP地址形式，例如“192.168.0.1”、“127.0.0.1”、“114.114.114.114”、“60.17.61.243”。

IPv6规定IP地址使用八个ffff以内的十六进制数字（除了0-9还有a-f）组成，也就有了那种“你看起来很奇怪但人家确实是IP地址”的地址，例如“fe80::1”、“::1”、“240c::6666”、“240e:3a5:183a:dcb0:114:514:1919:810”。在表示套接字时，IPv4直接在地址后面用冒号连接端口号即可，如11.4.5.14:19810。但是IPv6地址由于本身就已经使用冒号表示，在表示套接字时需要将IP地址用中括号括起来，再在后面加上冒号，如[240e:3a5:183a:dcb0:114:514:1919:810]:19810。  

> [!TIP]
> 每个IP协议版本IP地址格式的例子中，第一个是局域网IP，第二个是本地回环地址，第三个是一个著名的DNS服务器，第四个是世界上某个人上网时正在使用的IP地址。

从IPv4的格式可以看出，IPv4共可以表示4,294,967,296（40亿）个地址。然而由于一些特殊的规定，如192.168开头的IP地址只能用于内网，实际可以分配给互联网上计算机的IP地址远比总量要少。本来40亿地址就不够地球上70亿人每人一个，更不幸的是，这些IP地址的分配还不均匀。美国的国防部和贝尔实验室就拥有上亿个IPv4地址，至于整个中国大陆拥有约4亿个，虽然很多，但是远不够14亿人分配。

为了让IPv4够分，出现了NAT技术。NAT的原理是将一些电脑组成一个局域网，然后不给它们分配公网IP，只让自己拥有公网IP。可是前面提到，打电话的人必须拥有电话号（IP地址），那没有在公网上的IP地址怎么给访问公网上其他的服务器呢？NAT的网关就给局域网中的所有电脑都分配局域网IP，然后让它们在访问互联网时经过自己。而被访问的服务器也是需要客户端的IP地址和端口的，此时NAT的网关就将客户端的电话线（端口）接到自己身上的一条电话线上（绑定到自己公网IP的一个端口），这样对于服务器来说，就是NAT网关把自己假扮成了客户端，然后应客户端的要求和服务器进行通信。  

这样电脑访问互联网上服务器的需求就解决了，可是如果NAT的局域网里有服务器该怎么办？这个服务器没有被分配到公网IP，其他客户端用什么访问他？

NAT有两种方式可以实现服务器在公网提供服务：

第一种叫端口映射，NAT网关主动把服务器上服务端开放服务的那根电话线（端口）接到（映射到）自己身上的一根电话线（端口上），这样局域网中特定服务器的特定端口就是NAT网关的公网IP上的一个端口，公网上其他客户端直接访问这个公网IP的这个端口，就可以访问到那个服务器上的特定服务了，这样就实现了NAT中的服务器将自己的端口开放到公网。

第二种叫NAT打洞，与第一种方法不同的是，第一种NAT需要主动把服务器的局域网IP上的端口和自己在公网IP上的端口进行绑定，而这种方法完全不需要NAT主动做任何操作，只需要他进行正常的转换就可以了。上文提到NAT为了让局域网中的电脑访问公网上的服务器，需要把局域网中电脑上的“电话线”也就是端口接到自己在公网的“电话线”上，而这条电话线一旦接上，双方就可以进行双向通信了。那么就可以利用NAT的这个特性，首先让局域网中的服务器访问公网上的另一台服务器，让NAT去接上这根线，再让客户端也去访问公网上的那台服务器，让它的NAT也建立这个连接。两边连接建立好后，这个服务器告诉双方彼此的NAT为这些连接准备的端口号，双方就可以通过彼此的IP地址和已经接好的这根线，透过NAT愉快地连接了。  

随着互联网的发展，越来越多的人拥有了网络终端，而每个网络终端都需要一个IP地址来访问互联网。NAT技术出现后，很多路由器都具备了这个功能，因此每家只需要在自己办的宽带上接一个有NAT功能的路由器，然后把自己所有要上网的设备连接到这个路由器，就可以实现每户人家只需要一个IPv4地址。然而这样的人家越来越多，就算一家只给一个IPv4地址然后让所有人自行准备路由器来搭建NAT，IPv4地址也已经不够分了。

于是运营商想了一个办法，他们自己准备了NAT网关，把几户人家的网线接到这个NAT网关下，就实现了这几户共用同一个公网IP。这下对于运营商来说，公网IP终于是够用了。可是对于这几户人家来说，自己搭建服务器却成了难题：虽然能控制自己的NAT网关，却无法控制运营商的NAT网关，由于端口映射需要NAT网关主动，这个方案就用不了了。此时NAT打洞的方案仍然可行，可是这个方案对于联网用途本身要求很高，首先它需要服务端和客户端软件都支持特定的NAT打洞方式，而且它还需要服务端和客户端采用特殊的协议进行通信，对于现有的大部分从未考虑过NAT打洞方案的软件来说，这个办法也行不通。就这样，被接到运营商的NAT下的设备就几乎都失去了成为服务器的能力。不过还好IP地址没到非常稀缺的程度，现在仍然有一些宽带可以分配到公网IP，也就能掌握位于公网的NAT网关的控制权，并通过端口映射方案在局域网中搭建服务器。  

造成以上种种现象的根本原因，其实就是IPv4太少了。为了解决这种现象，IPv6特意加长了表示方式，看那长长的地址就知道，IPv6的地址肯定是用不完了。事实上，IPv6的地址一共有3.4百万亿亿亿亿个，确实是分不完啊！难怪会有人说地球上的每一粒沙子都能分配到一个IPv6地址。IPv6的出现打破了层层NAT的现状，让每台电脑都能重新获得公网IP。然而IPv6由于和IPv4不兼容，在推广时遇到了大难题。

首先是现有的老旧设备需要更新，因为它们不支持新的IPv6协议。很多软件也需要大改，因为它们是专为IPv4设计的。要从IPv4更换到IPv6，所需要进行的工作极其庞大，所以出现了IPv4和IPv6共存的方案，即双栈网络。支持双栈的设备既可以使用IPv4工作也可以使用IPv6工作，而且为了加速IPv4的淘汰，很多设备会刻意地默认使用IPv6上网，在IPv6无法使用时再使用IPv4。就这样，一段漫长的过渡阶段开始了。越来越多的设备和网络开始支持IPv6，可IPv4始终无法淘汰，因为旧设备和旧软件实在是太多了。  

可是近年来，据说IPv6的更新速度减缓了，据说主要是运营商尝到了NAT的甜头，因为套上运营商NAT后，用户就无法自行搭建服务器了，这样用户既不会用家用宽带提供未经审查的服务，也会被迫花更多钱去运营商那里购买昂贵的商用宽带，总地来说就是处处都利好了运营商，让他们既能给自己降低维护成本，又能让用户多给他们花钱。  

通常来说国内手机流量（移动数据）的网络环境在绝大部分地区已经支持IPv6。然而由于设备老旧或配置不当等原因，很多宽带（例如家里很早以前办的宽带，网吧、酒店、饭店等公共场所的免费wifi）都仍然不支持IPv6。如果你想知道自己正在使用的网络是否支持IPv6，可以访问这两个网站：ipw.cn和testipv6.cn，它们会告诉你你现在的网络对IPv6的支持情况。如果你的网络还不支持IPv6，你可能需要自行操作来开启。由于开通IPv6仅仅是一个开关，但是接触到这个开关的途径每个运营商、厂商和路由器品牌的方式都不同。下面仅给出2024年一种可能的方式，如果其中有步骤失效，可以上网搜索其他实现该步骤的方法，或者直接上网搜索其他方法操作。  

1. 检查是否已经有IPv6:如果是windows系统，先打开任务管理器，点击性能选项卡，侧边栏找到以太网点击，下面的信息如果有显示IPv6地址，而且前缀不是fe80，那基本就证明是已经有IPv6了。国内绝大多数都是2408 2409 240e开头，如果是其他的你也可以百度一下这个开头，没有说是内网地址或者虚拟机就行  
2. 检查宽带是否有开通IPv6的条件，如果还不支持IPv6那么无法开通，只能换家运营商或者等运营商方面升级。有的时候宽带已经支持IPv6，但是路由器并没有开启。路由器如何开启IPv6可以百度搜索路由器品牌+怎么开IPv6 。这里给出常见的华为路由器和tplink路由器的开启方法  
华为路由器：登录后台之后，点击顶部更多功能，侧边栏找到网络设置点击展开，选择IPv6，打开开关，下面所有选项全选择自动配置，点击保存。切换到侧边栏里面的路由器信息页面，如果IPv6那一段显示出来的地址里面有不是fe80这种的IPv6地址（可能也会有fe80开头的，别全都是就行），那就是成功开启了IPv6.  
tplink路由器：登录后台后点击底部路由设置，侧边栏找到IPv6设置点击，IPv6功能调整为开启，WAN口连接类型选择自动获取IP地址，点击保存。我没有tplink路由器，不清楚怎么找IPv6地址，总之找到IPv6地址之后，跟上段华为路由器要求的效果一样就行。
如果按照上面的方法设置之后路由器里也显示fe80的地址，证明你的光猫也需要配置，或者宽带不支持IPv6 。现在仍然有一些小运营商和一些地区不支持IPv6，因为网络铺设的成本在那，IPv6的普及还需要时间。  
4. 检查路由器的上网方式：此时先打开路由器的后台，查看路由器的上网方式。不会操作可以百度路由器品牌+怎么设置拨号上网。华为路由器点击顶部“我要上网”就可以看到上网方式，tplink路由器点击底部路由设置，侧边栏找到上网设置，就可以看到上网方式。如果这一步设置的是DDNS（自动获取IP地址），那就需要修改光猫设置。如果这一步设置的已经是拨号上网（PPPOE），那就证明你的运营商没有给你开IPv6或者不支持IPv6，你就可以直接跳过下面修改光猫的步骤，直接跟运营商报修说要开通IPv6。  
5. 修改光猫为桥接：下面需要修改光猫设置。如果安装师傅没给你超级密码，此时有以下三种解决办法：  
(1)（成功率最高，但需要花钱）在某宝某多搜索“光猫超级密码”，会有很多破解光猫超级密码的服务。这里有没有水深的情况我不清楚，我也没研究过，但是确实有些人在用这个途径，比较有效。  
(2)（完全自行操作，社恐患者福音）在搜索引擎搜索自己的运营商+光猫品牌+超级密码，然后在光猫后台挨个试。这是一个很漫长的过程，因为每个地区的运营商的默认超级密码都不同，甚至有可能你那边的运营商给你的密码是完全随机的，因此你在网上找到的大多数密码可能都不能用。  
有了超级密码之后，登录光猫后台，先记下原来的帐号密码，然后将上网方式修改为桥接。运营商的光猫型号众多，没有主流的后台界面，这里需要大家上网搜索光猫型号（在光猫的外壳，后台界面，底部的铭牌都有可能看到）+怎么改桥接，并根据实际情况灵活应对。这里对动手能力要求很高，单凭这个教程很难讲明白。  
(3)如果你搞不到超级密码，也可以直接报修，跟安装师傅说你要改桥接。大部分都会直接给改，一部分运营商的安装师傅会说需要给你报备，我家这个就是，我电话说完之后他说要给我报备，报备之后才能改桥接。   
6. 使用路由器拨号：光猫改成桥接之后，进入路由器后台，将按上文查看上网方式的方法找到上网方式，改成拨号上网（PPPoE），填入在光猫后台找到的帐号密码并保存。此时你家宽带的质量应该会有所提升，毕竟这次网关给到了路由器，自己的路由器性能一般都比运营商给的那个光猫的要好。此外一部分用联通电信宽带的路由器应该会直接有IPv4公网了。如果你是联通电信但仍然没有IPv4公网，可以报修说让他给开一下，一些地方是可以给开的，一些地方会要求额外收费，或者直接不给开，毕竟IPv4资源紧缺，运营商能靠商宽捞一笔。这时候再去查看IPv6的情况，如果仍然没有，就可能是需要联系运营商开，或者运营商不支持了。   
7. 折腾完路由器之后，回到服务器上，任务管理器里应该就显示公网v6地址了。要测试这个v6是不是真的生效了，可以访问ipw.cn或testipv6.cn测试。
 
自此服务器的IPv6已经全部配置完毕了。  

## 为家里的宽带申请公网IPv4
我的世界服务器就是一种服务器，而为了作为一台服务器，服务器就必须像上文一样需要有公网IP地址或者能够把端口开放到公网。对于能用来开服的云服务器来说，运营商都已经做好了相关的配置，让这些云服务器能够把自己的端口开放到公网，所以完全不需要担心公网的问题。有些服务器直接接入公网，没有任何NAT的存在，有些服务器位于NAT网络中，但是服务器运营商有特殊的服务，把NAT网关的部分控制权交给你，让你能够给自己的服务器配置端口映射，把端口开放到公网。  

但是如果在自己家里开服，就没有那么简单了。上文提到由于IPv4地址枯竭，家用宽带中的服务器基本都处于NAT网络下。我的世界服务器由于本身不支持NAT打洞功能，所以只有端口映射一个办法可用。为了能进行端口映射，你需要获得公网上NAT网关的控制权。首先你必须要找到这个NAT网关的位置。现在找到你家里的弱电箱，也就是放“猫”的位置，那里肯定有一个运营商借你们的网络设备“猫”，现在新建的小区楼里一般家用网络都是通过光纤接入互联网，这种连接方式叫光纤入户。如果弱电箱里有一根黄色的细线，那就是光纤，而它连接的“猫”就是“光猫”。有时光猫上带有天线，自己就可以发射wifi信号，而有的光猫只是一个小盒子，上面需要另外接一个用来发射wifi信号的路由器才能让自己家有wifi。你家网络的NAT网关肯定就在光猫和那个路由器之间。  

为了知道究竟哪个是最上游的NAT网关，你必须要进入其中一个设备的后台。网关的后台是一个只能由它下面的设备访问的网站。这个网站可以通过路由器的局域网IP地址访问，使用任何一个连接到家里wifi的设备都可以查看这个IP地址，而由于不同品牌和系统的设备查看的方法不一样，可以上网搜索“路由器的ip地址怎么看”，可以找到大量相关教程。这里只给出Windows，macOS，Linux，iOS和原生安卓的操作方式。  

- Windows：打开控制面板（不知道怎么打开就按win+r然后输入control回车），点击网络和共享中心，查看活动网络下面会有一个网络几（可能也叫别的名，反正就会显示一个网络），点击右边那趟连接右边的蓝字，会弹出窗口“xxx状态”，点击详细信息再弹出一个窗口，里面的IPv4默认网关就是路由器的IP地址。  
- macOS：打开设置（不知道的就点击菜单栏上苹果菜单展开点系统设置，旧版系统叫系统偏好设置），点击网络，然后里面哪个绿灯了就点哪个，点进去之后点击右边有一个叫详细信息的按钮，点击会弹窗，左边选择TCP/IP，右边显示的路由器那个地址就是自己的路由器地址。  
- Linux：执行ip route命令，第一行输出就是路由器IP地址。  
- iOS：进入设置，进入WLAN，自己已经连接的wifi右侧会有一个蓝色的i，往下翻，路由器那行的IP地址就是路由器地址。  
- 原生安卓：进入设置，进入网络和互联网，旧版系统进入WLAN，新版系统进入互联网，点击连接的那个wifi右边的齿轮，往下翻会有一个网关（如果没有但是有个高级就把那个高级展开），网关显示的就是路由器的地址。

把设备通过wifi或者网线连接到家里的宽带网络上后，直接进入浏览器，输入路由器的IP地址访问，就可以进入到路由器的后台页面。如果连不上去，首先确认自己是否真正连上了家里的网络，比如手机有没有连上wifi，或者连上wifi后有没有因为各种原因而仍然在使用流量。

成功进入后台之后，你首先要确认你进入的这个后台究竟是你自己的路由器，还是那个光猫。如果你进入了光猫的后台，那么网站上一般会标着运营商大大的logo，如果你进入了路由器，那么网站上一般只会标着路由器品牌的logo，而没有运营商的logo。这时路由器一般会提示你输入密码。我相信有很多人设置完这个密码之后就忘了，因为在开我的世界服务器之前，没有人告诉你这个密码很重要。但是忘了是不行的，你必须要知道这个密码。如果是别人设置的，那你就要找到那个人要来密码，如果是装宽带的时候师傅告诉你的，那就联系给你装宽带的那个师傅问密码。如果确实是你自己设置的，而且你实在是想不起来了，那可能是这个路由器之前对于你真的不重要吧，那就只能给路由器重置了。 **注意如果是光猫就无论如何都不要重置！路由器重置后需要重新设置，家里的所有设备都暂时会断网！重置路由器前务必确保你自己或身边的人有能力重新设置这个路由器！** 不同品牌路由器的重置方法不一样，这里不做展开，可以翻出路由器的说明书，或者上网搜索“「路由器品牌」怎么重置”（有些路由器重置非常麻烦，我之前就遇到过一个路由器，我折腾了十分钟才给重置好）。重置完成后，再根据当初安装这个路由器时的设置方法进行设置。 

登录路由器后台以后，网站上一般会显示一个“WAN IP”，这里的“WAN”代表公网，但它显示的并不一定是公网IP，用一些小技巧可以判断出来它到底是不是，一共分为三种情况：一种是显示192.168，一种是显示10或100开头，一种是其他数字开头。前两种都不是公网IP，只有第三种是。到这里你就可以判断出来这个路由器是不是NAT网关了。如果它是192.168开头，那么就不是NAT网关，你需要换一个路由器重新进行这些操作。如果不是，那这就正是你要找的NAT网关。  

找到NAT网关并进入它的后台之后，你就可以操作进行端口映射了。但是等一下！上文还提到，由于部分运营商为了节省公网IPv4地址而不给一些家里分配IPv4地址，这样的情况下是无法成功进行端口映射的，因为你家里的NAT网关并不是公网上的NAT网关，真正公网上的NAT网关在运营商手里，你根本拿不到控制权。你必须先确认一下你的网络是不是这个类型，别白费了工夫。方法还是查看那个WAN IP，如果它不是10或100开头，你就可以继续进行端口映射了。  

但是如果是10或100开头，就没有办法进行端口映射了吗？其实还是有一丝希望，但是这需要你大量的努力，因为你可以通过和运营商交涉让他们给你把IP变成真正的公网IP，这一步就是主动向运营商申请公网IP。首先如果你的宽带必须是联通或电信运营商，因为目前只有这两个运营商有相对充足的公网IPv4地址分配给家用宽带，其他运营商无论如何都不会给你改成真正的公网IP。而联通和电信也分地区，现在尤其南方的一些省份由于人口稠密，宽带办理非常多，当地的IPv4地址也已经枯竭，所以当地的联通和电信有的对公网IP额外收费，有的则是直接不再提供，说什么也不行。要想和这些运营商申请公网IP，你可以打电话直接要公网，或者一些省份的电信有自助开通公网IPv4的渠道。  

如果联系运营商也解决不了，就没有办法进行端口映射了。可是如果不能进行端口映射，就不能在自己家开服务器了吗？办法总比困难多，下面继续介绍两种在家里开服的办法。  

## 商用宽带
上文提到，运营商不愿意推广IPv6有可能是因为想让用户给他们交更多的钱买商用宽带。没错，平时我们办理的都是家用宽带，而还有一种宽带可以用于商用，这种宽带一定有公网IPv4地址，而且很多宽带都拥有不止一个公网IP。这种宽带一般用于公司、营业场所、专业服务器机房等。由于是商业用途，这种宽带要比普通宽带贵得多，而且要求严格，并不是所有人都能办得了。要办这种宽带，你必须至少满足以下两个条件：  
1. 你自己有一个公司，或者你能联系到一个公司能够为你办理这种宽带。商用宽带都是以公司为单位办理的，这里的公司必须是已经在相关部分登记，而且有营业执照的那种。  
2. 你必须有十分充足的预算。商用宽带极其昂贵，一般家庭都承担不起，就连企业也要精打细算地用。

满足以上条件之后，你就可以联系运营商办理商用宽带了。  
## 内网穿透
商用宽带虽然可以彻底解决公网IPv4的问题，但是它门槛极高，那两个基本条件，一看就是那种“成功人士”的特点。然而其实还有一种方式，可以让每一个普通人都有能力开服务器，而不需要上文开通公网IPv4那种“天时地利人和”，这就是传说中的内网穿透。设想NAT网络就是一座监狱，服务器被关在监狱里，外界该怎么和服务器联系？

还好服务器在外面有一个朋友，监狱还允许服务器指定一个人来联系，这样服务器就可以指定他的那个朋友来联系。外界如果要联系服务器，就找到服务器的朋友，让服务器的朋友捎话。而服务器虽然不能直接找到对方，但是他只要能够和这个朋友保持联系，就可以及时获取外面的信息。这样通过服务器的朋友这一个中间人，就实现了服务器即使被关进监狱也能让外界主动和服务器联系。

内网穿透就是这样的原理。虽然服务器自己不再能作为服务器了，但是它可以作为客户端。通过内网穿透软件，服务器在公网上找到了另一个拥有公网IP的服务器，委托他为自己开放这个服务。这样公网上的服务器就像端口映射一样，把服务器的所有数据都通过自己在公网上的指定端口进行转发，这样其他客户端要访问公网服务器的这个端口的时候，就相当于访问了那个位于内网的服务器指定的端口，也实现了类似端口映射的效果。这个过程中，充当中间人，负责转发内网中服务器数据的那台服务器就是内网穿透中的节点。

由于服务器转发的是客户端和服务器通信过程中的所有信息，就像一根水管一样，因此双方在通信时，服务器的使用的带宽变高，节点被占用的带宽也会变高，因此内网穿透的资源总量是有限的，如果很多个服务器同时找一个节点进行内网穿透，这些服务器的所有数据都经过了这个节点，那么节点自身的带宽很快就会达到上限，这也是那些内网穿透运营商要限流量和限速的原因。 

内网穿透有两种搭建方案，一种是找现成的内网穿透运营商，这些运营商有现成的服务器专门用来给你搭建内网穿透，另一种是自己购买服务器或者借服务器搭建内网穿透。现在网上有很多内网穿透运营商，笔者也经常因为各种原因使用。但是笔者无法在这里推荐运营商，因为目前在开服方面还没有受到广泛认可的内网穿透运营商。不同的运营商收费不同，限量不同，节点也不同。上网搜索“内网穿透”就能找到大量内网穿透的运营商，但是在选购的时候非常建议多家对比，找到最适合自己使用的运营商。下面是选择过程中除了价格外尤其需要注意的地方：  
1. 正规性：最好能在运营商的官网最下面看到网站备案信息，并且运营商也介绍了自己的公司名称，公司名称上网也能查得到。
2. 流量：小服务器每月只能用掉几G，但是大服务器每月能用掉几百G甚至几T的流量。你需要确定对流量的收费是否适合自己。如果不确定多少流量适合自己，你可以先找一家运营商用一个月，看看自己要花掉多少流量。  
3. 带宽：一些内网穿透运营商只会给每个服务器几M的带宽，对于大型服务器完全不够用。注意，一般不限流量的内网穿透运营商带宽都很低。  
4. 隧道数：内网穿透每映射一个端口出去就叫一条隧道。每个服务端都可能需要占用一条隧道，你还需要一些隧道用来管理服务器等。一般新手有一个隧道就够，但是后面你可能需要远程桌面等要用到更多隧道。  
5. 节点：由于内网穿透是客户端向节点发送数据后节点再向服务器发送数据，和客户端与服务器直接通信相比，数据需要在节点上绕一下，这样一来延迟到来到了客户端到节点的延迟和服务端到节点延迟的总和。根据三角形两边之和大于第三边的定理，节点距离客户端或服务端越近，游戏延迟就越小。然而你无法确定客户端的地理位置，毕竟玩家来自大江南北。那么只有缩短节点与服务器之间的距离，才能保证所有玩家的延迟都最低。例如服务器位于河北，有两个节点分别位于山东枣庄和江苏宿迁，有两个玩家分别位于广东和辽宁，那么当选择离服务器更近的枣庄节点时，假设辽宁玩家到节点为20ms，广东玩家到节点为50ms，服务器到节点为10ms，那么辽宁玩家的游戏延迟就是20+10=30ms，广东玩家的游戏延迟就是50ms+10ms=60ms。当选择离服务器更远的宿迁节点时，假设辽宁玩家到节点为40ms，广东玩家到节点为30ms，服务器到节点为30ms，那么辽宁玩家的游戏延迟就是50+30=70ms，广东玩家的游戏延迟就是40+30=60ms。选择宿迁节点时虽然广东玩家的延迟不变，但是辽宁玩家连接服务器时，数据从更远的宿迁绕了一圈再回来，延迟高了很多。因此选择运营商时，优先选择拥有离自己近的节点的运营商。  
6. 实名认证：为了在意外事故中更好地规划责任，很多内网穿透运营商都要求实名认证才能开始使用，或者部分节点需要实名认证。还有一些实名认证时还要求用户必须成年（年满18岁）。况且实名认证服务提供方收费，内网穿透运营商可能会让你自行承担费用，目前价格通常在1元。所以在选择运营商时，如果你未成年，或者没有在线支付的能力，那么在一些运营商处可能会受到限制。

至于自行搭建内网穿透的方案，笔者只建议在自己已经有明确规划的情况下才这样操作。只有以下几种情况，才建议自行搭建内网穿透方案：
1. 自己已经有高性能的电脑，不需要为服务器硬件投入更多费用。这种情况下服务器硬件费用只需要投入到自己搭建内网穿透购买的服务器上，节约了很多开销。  
2. 家人或朋友有公网的宽带或者云服务器可以借用  
3. 自己已经有用于其他用途的云服务器，但是云服务器的硬件不适合开我的世界服务器

为了搭建内网穿透，你需要用到frp这个软件。网上有大量frp的使用教程，这里不做展开，搜索“frp使用教程”即可。frp的官方教程在gofrp.org/zh-cn。  
## 为家里的宽带开通IPv6
有了内网穿透之后，由于内网穿透节点离服务器还是有一定距离，服务器的延迟可能还是不够理想。上文我们提到，虽然IPv4地址枯竭导致很多电脑分配不到公网IP，但是IPv6不存在这个问题。也就是说，就算无望获取公网IPv4，但是还可以获取公网IPv6。玩家们通过IPv6连接服务器时，延迟仍然是非常低的。而且上文提到由于有了双栈技术，IPv4和IPv6可以共存，因此无论你是通过端口映射还是内网穿透把服务器开放到公网，都和IPv6不冲突，玩家只要通过IPv6连接服务器，就是直接连接。况且由于IPv6是直接把IP分配给电脑本身，NAT也不存在了，端口映射也不存在了，你的服务器就直接位于公网，访问服务器的IP和端口就能直接连接进服。

IPv6好处这么多，然而上文提到部分网络环境下仍然不支持IPv6，并给出了检测是否支持IPv6的网站和开通IPv6的方法。然而你需要特别注意，IPv6必须要双方都支持才能连接，也就是说你的玩家的网络也需要支持IPv6。在相关的教程你也可以看出来，开通的过程还是有亿点复杂的。你不能用相关的教程去让你的玩家们去开通IPv6，虽然你可以非常有耐心，但是玩家们不一定有耐心，也不一定能听得懂。至于为什么玩家们都这么“差劲”不愿意配合你，后面玩家管理的章节会讲到。因此如果你让玩家们用IPv6连接服务器，结果就是有相当一部分没有IPv6的玩家无法连接服务器。这些玩家可能只能通过内网穿透连接，但是整体的体验是不如直接拥有IPv4公网更好的。也就是说，推荐玩家用IPv6连接服务器并用内网穿透解决服务器IPv4公网问题是一个节约成本的好办法，但是会导致服务器的竞争力下降。至于如何平衡服务器运营成本和竞争力的问题，后面的营销章节会讲到。
## 上行限制和带宽的计算
在选购云服务器时，你可能会发现这个问题：我家里的宽带很便宜，每月一百多块钱就能用上千兆，但是云服务器的带宽怎么这么贵，每月一百块钱只能用上几十M？其实你不知道的是，所有人的宽带里都有猫腻。你可以去speedtest.cn测速，这时你会发现你家里的宽带下载虽然已经有几百兆甚至千兆，但是上传竟然只有几十M。但是云服务器的测速就不一样，虽然下行不高，但是上行和下行的速率是一样的。

但是这么低的上传速度，平时你却很难感受得到。这是因为在平时上网的时候，我们使用的大部分网络流量都是下载，上传的行为虽然很多，但是流量很少。在访问网站的时候，你的浏览器只需要向网站发送一串代码，就可以从浏览器处下载海量的内容。视频网站更是一样，你只需要向网站发送一串代码，就可以下载到一大段视频。运营商看中了这个特点，在宣传自己的带宽的时候，就只说自己的带宽达到多少多少，并没有说这只是下行的速度。而节省出来的这部分上行资源，运营商就可以卖给商用宽带，这样就可以让他们的利益最大化了。因此如果你用自己家里的网络开服，实际上只相当于用了几十M的宽带，而不是自己家里实际的百兆千兆。至于提高宽带上行，目前家用宽带只有少数地区提供了加钱给更多上行的选项，大多数时候上行想提升都提升不了。如果带宽不够用，只能办商用宽带，商用宽带全都是上下行对等，不存在或者把自己的服务器拿去机房托管。至于什么是机房托管，在上一篇性能章节中已经介绍过了。  

那么多少的带宽才够用？其实在开服初期，即使只有几M的带宽也完全够用，一两个玩家根本占用不了多少带宽。但是玩家很多，达到接近十个甚至几十个的时候，占用的带宽就相当可观了。首先玩家进服和跨维度传送的一瞬间就需要消耗大量的带宽，因为服务器需要向玩家发送大量的存档数据。由于这个占用只在一瞬间，所以服务器的带宽只需要满足一个玩家在这一瞬间的消耗即可。这个消耗量也不是非常大，原版服最多不超过10M，模组服可能相对多一些。Java版单个玩家会消耗几百kbps带宽，最高不超过1M。另外跑图也需要消耗大量的带宽，平均在3M左右，最多不超过1M。至于基岩版服务器的消耗就更低了。
## 云服务器的地理位置
在游戏时，服务器的延迟是非常重要的，各位应该会有这种经历，就是打网游的时候突然延迟高，操作不顺畅，打的自己很心烦。我的世界同样也比较吃延迟。如果需要低延迟，不仅需要玩家的网络环境良好，还要求服务器和玩家的距离够近。地理位置越近，网络延迟就越低。如果你不用自己的主机开服而选择云服务器，你就有了选择地理位置的机会。

当然服务器的玩家遍布大江南北，你必须选择一个地方让所有玩家的延迟都足够低。江浙沪一代是最中心的地带，这里靠近人口最稠密的地带，而且到偏远地区的距离也相对较近，是保证服务器低延迟的最佳选择。东北地区和大湾区虽然也有大量廉价的云服务器，但是这里处于边缘，部分玩家连接服务器延迟更高，不建议优先选择。  
## 域名和DNS
上文提到，如果电脑要上网，就必须要有一个公网IP地址。而其他人要想访问这个联网的服务器，就必须知道这个服务器的IP地址。然而IP地址是一串串数字，虽然对于电脑来说没什么，但是对于人来说，上网就要敲一个个数字，要想记住一个个网站对应的那串数字，就要准备一个电话本，把网站对应的数字记下来，然后到时候再查。但是网站非常多，如果每次都去手动查那个电话本，那上网的效率就非常低，简直是地狱绘图。

为了解决这个问题，DNS（域名解析服务）服务就诞生了。DNS服务就是一个公共的电话本，它记录着世界上所有服务器的IP地址和它们对应的名字，这样在上网的时候，只要输入服务器的名字，电脑就会把服务器的名字发送给DNS服务器，随后DNS服务器就会帮助电脑查到这台服务器的IP地址，接下来再由电脑访问这个IP地址，就实现了只需要输入服务器的名字就可以访问服务器。负责提供DNS服务、帮电脑查找IP地址的服务器就叫DNS服务器，查找的过程叫解析，查到的那条记录就叫解析记录，而服务器的名字就叫域名。  

我们常见的github.io，live.bilibili.com，48docs.231l.net都是域名。你会发现有些域名只有一个点，有些有两个点，而有还有些域名有三个点。这些小数点是用来把域名分成不同的片段的。被点分开的片段，每段都是一个分量。从左向右，越靠右的域名级别越高。最右侧的“com”、“net”、“io”就是一级域名，又叫顶级域名，而一级域名左边的就是二级域名，像“baidu”、“bilibili”、“github”，以此类推。域名由统一的全球性机构管理，服务器的运营者可以租用域名，然后将自己的域名和对应的IP地址公布到全世界的DNS服务器，也就是在那个世界级的“电话本”上写下服务器的联系方式，之后再把这个域名告诉其他人，那么其他人就可以直接记住这个域名，然后方便地用域名访问服务器，不再需要自己准备一个电话本了。

域名，除了好记的作用外，还可以真正意义上地让自己的服务器的IP地址不变。如果网站换了服务器，那么网站的IP地址就变了，因为电脑已经不是原来那台电脑了。如果是直接用IP地址访问，那么网站的IP地址变化的时候，网站的维护者就需要通知所有人网站的IP地址发生变化，就像你换了手机号，之后需要告诉所有人你换电话号了一样。但是有了域名就不一样了，因为有了DNS这个全世界的公共电话本，网站的维护者只需要把这个变化同步到DNS上，后面用户使用域名访问网站的时候，DNS就会直接告诉用户的电脑网站的新IP地址，而不再需要把新IP地址通知到每一个人了。  

作为我的世界服务器，域名也是可以起到很大作用的。毕竟你的玩家也不想要记一个数字来连接服务器。什么时候需要域名，如何租用域名，紧接着下文就会讲到。  
## 选购域名
如果你的服务器不大，来玩服务器的人不多，而且地址是固定的，那就不需要域名。如果服务器的地址不固定（例如家宽动态IP，下文会讲到），或者你的服务器很大，玩家很多，又或者你的服务器支持IPv6，那么此时你就非常需要一个域名。一个好的域名能够帮助玩家记录你服务器的连接地址，也能让你的玩家不需要总是修改游戏里保存的地址就可以随时连接到服务器。就算你服务器再怎么变化，只要域名和端口不变，玩家就算时隔很久没玩过服务器，那么他突然想起你这个服务器的时候，直接点击连接就能上线。  

是的，很多域名都是需要花钱才能租用的。但是还好，有一些域名是免费的。通常情况下一级域名是不可以租用的，至少从二级域名开始才可以租用。有的时候一些三级域名其实也可以租用。要想租用域名，你需要首先找到一家你信得过的注册商。目前我的世界服务器圈子最常用有腾讯云（DNSPod在他家旗下）和阿里云这两个国内的域名注册商，当然其他域名注册商也可以选择。确定好注册商后，就可以开始选购域名了。在选择注册商和注册域名的时候有以下注意事项：  
1. 尽可能选择和自己服务器名字相匹配的域名，比如服务器的名字叫arsky，那么你就可以注册arsky.club。和服务器名字密切相关的域名能让玩家马上记住服务器的连接地址，不需要翻看服务器的相关公告文档。  
2. 国内域名注册商在部分情况下，尤其是创建与网站相关的解析记录时，要求根据相关规定对域名进行备案。所以如果自己将来有用同一个域名搭建网站（比如服务器官网）的需求的话，就需要谨慎考虑国内注册商，尽可能选择海外注册商。  
3. 注册好二级域名之后，除了直接给二级域名本身创建解析记录，你还可以在这个二级域名的基础上创建三级域名的解析记录。比如你购买了sijogdhsai.xyz，那么你就可以给123456789.sijogdhsai.xyz和114514.sijogdhsai.xyz创建解析记录。  
4. 虽然域名可以用中文，但是不推荐在不了解的情况下就注册中文域名，因为现在仍然有很多软件只支持英文数字的域名。  
5. 如果你有心仪的域名，那就尽快注册，防止被其他人抢先注册（抢注）。  
6. 一些域名只有第一年价格低，从第二年开始价格就翻倍，务必小心。  
7. 域名注册商会限制你为单个域名添加解析的数量，如果你要添加很多个域名解析，就需要额外花钱。  
8. 域名虽然可以从一个注册商转移到另一个注册商，但是转移的过程要花钱，还需要办一堆手续，所以最好在刚开始选购域名的时候就确定好自己最终需要的注册商。


## DDNS服务
上文提到，如果换了服务器，IP地址就会发生变化，网站的维护者需要在这个时候把新地址同步到DNS。但是事实上在一些网络中，即使不更换服务器，IP地址也会发生变化。这就是动态IP。而如果IP地址始终和同一台电脑绑定，也就是说这台电脑的IP地址永远不会变化，这就是静态IP。如果服务器是静态IP，那么维护者就完全不用担心域名和IP对应不上，因为只要他不去手动更换服务器，服务器的IP就不会变化，也就是 说维护者完全知道服务器的IP什么时候会变化。

但是动态IP就不一样了。由于同一台电脑的IP地址随时可能改变，那么即使维护者完全不对服务器进行任何操作，服务器的IP地址也会改变，导致域名和IP在维护者不知情的情况下对应不上。为了能把电脑的IP地址的变化随时同步到DNS上，需要这台电脑自己能够发现IP地址的变化，并且自行和DNS同步。用来实现电脑发现自己IP地址的变动并同步到DNS的这种服务就叫DDNS（动态域名解析服务）。有了这个服务，电脑就能随时更新自己对应的域名对应的IP，这样无论自己的IP地址怎样变化，那个域名都能一直指向自己。这样一来使用者也可以直接通过域名来访问那个IP地址不固定的服务器了。  

我们的家用宽带几乎全都是动态IP。如果你申请到了公网IPv4，或者你让玩家能够通过IPv6连接服务器，那么你就需要把你的公网IPv4和IPv6告诉玩家。然而作为家用宽带，这些地址都是动态的。你必须要给服务器配置DDNS服务，否则你就必须要频繁地重新公布连接地址或者手动更新域名解析，否则玩家就进不去服务器，这简直不是给人干的活。从上文可以看出来，DDNS服务必须需要一个域名，所以管他免费不免费，你必须先搞到一个域名，然后才能开始搭建DDNS。

运行DDNS服务的软件目前开服圈子最常用的是ddns-go（https://github.com/jeessy2/ddns-go ），这个软件开箱即用，只需要简单的几步配置就可以让域名牢牢绑定在服务器上，非常方便。由于读者可能使用各种各样的域名注册商，而且限于篇幅，本文仅提供windows系统上腾讯云和ddns配合使用的教程，其他注册商和操作系统的配置方法大同小异，读者们灵活变通即可，有不懂的地方善用搜索引擎搜索。  
1. 前往https://github.com/jeessy2/ddns-go/releases 下载最新版的ddns-go安装包。如果下载失败，可以查看下一篇的GitHub章节。  
2. 将安装包（就是下载的那个压缩包）解压到一个不会被自己误删除的位置（如果你不知道哪里自己不会误删除，就直接解压到文件管理器左侧的文档那个文件夹）。  
3. 在ddns-go.exe所在的同级目录打开powershell（不会用powershell可以看下一篇的命令行基础知识章节）。  
4. 执行./ddns-go.exe  
5. 打开浏览器，访问网站localhost:9876，这是ddns-go的管理面板  
6. 提示输入帐号密码，由于这是你首次打开网站，直接点击登录。  
7. DNS服务商选择Dnspod（腾讯云）。  
8. 进入DNSPod官网dnspod.cn。登录自己的帐号，点击帐号头像，点击API密钥，点击DNSPos Token，点击创建密钥，先将ID和Token分别复制到ddns-go管理面板的DNS服务商项中的ID和Token中 ，再关闭DNSPod控制台中弹出的窗口。   
9. 往下翻，根据自己的实际情况启用IPv4或IPv6。获取方式都建议选择通过接口获取。Domains中填写要跟踪的解析记录，例如你想让mc.arsky.club指向这台电脑，那就在里面填写mc.arsky.club。不要只填写mc，要把整个域名都写上。  
10. 其他配置中，勾选禁止公网访问，然后设置ddns-go的登录用户名和密码。下载登录后台的时候，你就必须要输入这个用户名和密码才能登录了。如果实在记不住用户密码就在服务器桌面上创建个txt写里面，当然不推荐这么做因为不安全，除非你承认自己真的记不住。  
11. 点击最下面的Save。

到这里域名解析就配置成功了。此时控制台翻到顶，右边应该会出现日志，如果有修改域名解析xxx成功！或者IP未改变，将等待n次后与DNS服务商进行比对，就是配置成功了。如果失败了，日志会提示错误原因。  
<!--ICP备案和域名解析的类型就不写了，因为跟开服关系不大-->
